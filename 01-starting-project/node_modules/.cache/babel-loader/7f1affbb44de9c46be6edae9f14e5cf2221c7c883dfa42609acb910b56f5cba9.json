{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yodon\\\\OneDrive\\\\Desktop\\\\Main Expense Tracker\\\\Expense-tracker-main\\\\01-starting-project\\\\src\\\\components\\\\StartingPage\\\\StartingPage.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport Expenses from \"../NewExpenses/Expenses\";\nimport NewExpenses from \"../NewExpenses/NewExpenses\";\nimport classes from \"./StartingPage.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StartingPage = () => {\n  _s();\n  const [expenses, setExpenses] = useState([]);\n  const [error, setError] = useState(null);\n  const addExpenseHandler = expense => {\n    setExpenses(prevExpenses => {\n      return [expense, ...prevExpenses];\n    });\n  };\n  const fetchExpenseHandler = useCallback(async () => {\n    setError(null);\n    try {\n      const response = await axios.get(\"https://expense-tracker-d95df-default-rtdb.firebaseio.com/userdata.json\");\n      if (!response.ok) {\n        throw new Error('Something went wrong');\n      }\n      const data = await response.json();\n      const loadedExpenses = [];\n      for (const key in data) {\n        loadedExpenses.push({\n          id: key,\n          title: data[key].title,\n          description: data[key].description,\n          amount: data[key].amount\n        });\n      }\n      setExpenses(loadedExpenses);\n    } catch (error) {\n      setError(error.message);\n    }\n  }, []);\n  useEffect(() => {\n    fetchExpenseHandler();\n  }, [fetchExpenseHandler]);\n  let content = /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Found no expense.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 17\n  }, this);\n  if (expenses.length > 0) {\n    content = /*#__PURE__*/_jsxDEV(Expenses, {\n      items: expenses\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n  if (error) {\n    content = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: classes.starting,\n    children: /*#__PURE__*/_jsxDEV(NewExpenses, {\n      onAddExpense: addExpenseHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(StartingPage, \"bTBDSnwEvf7GOwjCxjJghfLDkJE=\");\n_c = StartingPage;\nexport default StartingPage;\nvar _c;\n$RefreshReg$(_c, \"StartingPage\");","map":{"version":3,"names":["axios","React","useCallback","useEffect","useState","Expenses","NewExpenses","classes","StartingPage","expenses","setExpenses","error","setError","addExpenseHandler","expense","prevExpenses","fetchExpenseHandler","response","get","ok","Error","data","json","loadedExpenses","key","push","id","title","description","amount","message","content","length","starting"],"sources":["C:/Users/yodon/OneDrive/Desktop/Main Expense Tracker/Expense-tracker-main/01-starting-project/src/components/StartingPage/StartingPage.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport Expenses from \"../NewExpenses/Expenses\";\r\nimport NewExpenses from \"../NewExpenses/NewExpenses\";\r\nimport classes from \"./StartingPage.module.css\";\r\n\r\nconst StartingPage = () => {\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const addExpenseHandler = (expense) => {\r\n    setExpenses((prevExpenses) => {\r\n      return [expense, ...prevExpenses];\r\n    });\r\n  };\r\n  const fetchExpenseHandler = useCallback(async () => {\r\n    setError(null);\r\n    try {\r\n      const response = await axios.get(\r\n        \"https://expense-tracker-d95df-default-rtdb.firebaseio.com/userdata.json\"\r\n      );\r\n      if(!response.ok){\r\n        throw new Error('Something went wrong')\r\n      }\r\n      const data = await response.json();\r\n      const loadedExpenses = [];\r\n      for(const key in data){\r\n        loadedExpenses.push({\r\n          id:key,\r\n          title:data[key].title,\r\n          description:data[key].description,\r\n          amount:data[key].amount,\r\n        });\r\n      }\r\n      setExpenses(loadedExpenses);\r\n    } catch (error){\r\n      setError(error.message)\r\n    }\r\n  },[]);\r\n  useEffect (()=>{\r\n    fetchExpenseHandler();\r\n  },[fetchExpenseHandler]);\r\n\r\n  let content = <p>Found no expense.</p>\r\n\r\n  if(expenses.length>0){\r\n    content=<Expenses items={expenses} />\r\n  }\r\n  if(error){\r\n    content=<p>{error}</p>\r\n  }\r\n  return (\r\n    <section className={classes.starting}>\r\n      <NewExpenses onAddExpense={addExpenseHandler} />\r\n      \r\n    </section>\r\n  );\r\n};\r\n\r\nexport default StartingPage;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC/D,OAAOC,QAAQ,MAAM,yBAAyB;AAC9C,OAAOC,WAAW,MAAM,4BAA4B;AACpD,OAAOC,OAAO,MAAM,2BAA2B;AAAC;AAEhD,MAAMC,YAAY,GAAG,MAAM;EAAA;EACzB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAMS,iBAAiB,GAAIC,OAAO,IAAK;IACrCJ,WAAW,CAAEK,YAAY,IAAK;MAC5B,OAAO,CAACD,OAAO,EAAE,GAAGC,YAAY,CAAC;IACnC,CAAC,CAAC;EACJ,CAAC;EACD,MAAMC,mBAAmB,GAAGd,WAAW,CAAC,YAAY;IAClDU,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI;MACF,MAAMK,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAC9B,yEAAyE,CAC1E;MACD,IAAG,CAACD,QAAQ,CAACE,EAAE,EAAC;QACd,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;MACzC;MACA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;MAClC,MAAMC,cAAc,GAAG,EAAE;MACzB,KAAI,MAAMC,GAAG,IAAIH,IAAI,EAAC;QACpBE,cAAc,CAACE,IAAI,CAAC;UAClBC,EAAE,EAACF,GAAG;UACNG,KAAK,EAACN,IAAI,CAACG,GAAG,CAAC,CAACG,KAAK;UACrBC,WAAW,EAACP,IAAI,CAACG,GAAG,CAAC,CAACI,WAAW;UACjCC,MAAM,EAACR,IAAI,CAACG,GAAG,CAAC,CAACK;QACnB,CAAC,CAAC;MACJ;MACAnB,WAAW,CAACa,cAAc,CAAC;IAC7B,CAAC,CAAC,OAAOZ,KAAK,EAAC;MACbC,QAAQ,CAACD,KAAK,CAACmB,OAAO,CAAC;IACzB;EACF,CAAC,EAAC,EAAE,CAAC;EACL3B,SAAS,CAAE,MAAI;IACba,mBAAmB,EAAE;EACvB,CAAC,EAAC,CAACA,mBAAmB,CAAC,CAAC;EAExB,IAAIe,OAAO,gBAAG;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAwB;EAEtC,IAAGtB,QAAQ,CAACuB,MAAM,GAAC,CAAC,EAAC;IACnBD,OAAO,gBAAC,QAAC,QAAQ;MAAC,KAAK,EAAEtB;IAAS;MAAA;MAAA;MAAA;IAAA,QAAG;EACvC;EACA,IAAGE,KAAK,EAAC;IACPoB,OAAO,gBAAC;MAAA,UAAIpB;IAAK;MAAA;MAAA;MAAA;IAAA,QAAK;EACxB;EACA,oBACE;IAAS,SAAS,EAAEJ,OAAO,CAAC0B,QAAS;IAAA,uBACnC,QAAC,WAAW;MAAC,YAAY,EAAEpB;IAAkB;MAAA;MAAA;MAAA;IAAA;EAAG;IAAA;IAAA;IAAA;EAAA,QAExC;AAEd,CAAC;AAAC,GAlDIL,YAAY;AAAA,KAAZA,YAAY;AAoDlB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}